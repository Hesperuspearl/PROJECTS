# 02_pjt 2023년 7월 28일 관통프로젝트 2nd

저번주 1차에 비해, 큰 어려움은 없었다. 논리적 사고를 통해 코딩을 하는 비중은 적었고, 언어규칙과 사용법을 알아서 구현하는 것이 중점이었다.

2가지 주제 중 새로 배운 내용인 '넷플릭스 주가 데이터 분석 프로젝트'를 선택하였다. 다른 주제는 저번주 진행했던 내용으로 따로 진행할 생각이다.

Numpy, Pandas, Matplotlib 등의 말은 태어나서 처음 듣는 단어들이어서 생소하면서도 재밌었다.

## A
A 데이터 전처리, 읽어오기 문제의 경우, 교재에 있는 코드를 그대로 가져오면 됐기에 어려운 것은 없었다. 하지만 이것을 안보고 하라고 한다면, 당연히 어려울 것이다.
데이터를 불러온 후 

df.loc[:, 'Date':'Close']

을 입력하여 column의 범위를 제한하여 데이터를 출력하였다.

## B
B는 데이터를 불러와, 조건을 추가해 2021년 이후의 데이터를 필터링 한후, 그것을 시각화(그래프)해야 했다. 
df['Date'] = pd.to_datetime(df['Date'])
df_distilled = df[df['Date'] >= '2021-01-01']
df_distilled

2021년 1월 1일 이후의 데이터들만 추출하였다.


그래프화 하는 과정에서 시행착오가 있었다. 모든 조건, 코딩, 단어, 문장을 정확히 하였는데도 그래프의 y축 단위에 이상이 있어 답안 그래프가 출력되지 않았다. 옆자리 친구들과 토의를 해보고 다시 처음부터 읽어나가며 특이점을 찾아내었다.

문제는 처음 데이터를 불러올 때 있었다.

df = pd.read_csv('NFLX.csv', encoding = 'cp949', usecols = range(0,5))

df['Date'] = pd.to_datetime(df['Date'])
df_distilled = df[df['Date'] >= '2021-01-01']

처음에는 numpy로 불러왔는데 계속 그래프 y축에 문제가 있었고, df = 'pd.'으로 바꿔 pandas로 불러와 matplotlib으로 출력했을 때 원하는 값이 나왔다.
아직 정확한 원리에 대해서는 더 알아봐야 하겠지만,
그 원인에 대해 추정하자면 numpy의 경우, price값 하나하나를 모두 y축 기준으로 두어 검정색으로 보이게 만들었다면, pandas는 모범답안과 같이 적절한 기준값을 잡아 그래프를 깔끔하게 만들었다.



## C
C의 경우 max, min 값을 구해내는 것이라 단순하였다.

## D
Month, 월별 기준으로 주가를 평균화 하여 그래프로 나타내는 문제였다.
처음 월로 기준을 잡았을 때 연도를 구별하지 않고 2021년 2022년 1월, 2월을 함께 평균화하는 문제가 있었다.

new_base = df_distilled.groupby(df_distilled['Date'].dt.strftime('%Y-%m')).mean()

과 같이 dt.strftime('%Y-%m') 을 사용하여 연도와 월을 함께 기준으로 삼아 구분하여 계산하여 해결할 수 있었다.

## E
3개의 그래프를 동시에 나타내는 문제이다.
x축을 하나 정의하고 y축을 3개 정의하여 나타내었다.
y축 단위의 기준을 어떻게 하냐에 따라 문제의 난이도가 높아질 수도 있다고 생각한다.


